<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Index - Hubzilla Docs</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../css/version-select.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Hubzilla Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../about/index.md" class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../start/" class="nav-link">Getting started</a>
                            </li>
                            <li class="nav-item">
                                <a href="../member/" class="nav-link">Member Guide</a>
                            </li>
                            <li class="nav-item">
                                <a href="./" class="nav-link">Admin Gudie</a>
                            </li>
                            <li class="nav-item">
                                <a href="../dev/" class="nav-link">Developers Guide</a>
                            </li>
                            <li class="nav-item">
                                <a href="../api/" class="nav-link">API</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/saiwal/hubzilla-docs/edit/master/docs/admin/index.md" class="nav-link">Edit on saiwal/hubzilla-docs
                                    </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h3 id="overview">Overview</h3>
<p>$Projectname is more than a simple web application. It is a
complex communications system which more closely resembles an email server
than a web server. For reliability and performance, messages are delivered in
the background and are queued for later delivery when sites are down. This
kind of functionality requires a bit more of the host system than the typical
blog. Not every PHP/MySQL hosting provider will be able to support
$Projectname. Many will but please review the requirements and confirm these
with your hosting provider prior to installation.</p>
<p>We've tried very hard to ensure that $Projectname will run on commodity
hosting platforms such as those used to host Wordpress blogs and Drupal
websites. It will run on most any Linux VPS system. Windows LAMP platforms
such as XAMPP and WAMP are not officially supported at this time however
we welcome patches if you manage to get it working.</p>
<h3 id="where-to-find-more-help">Where to find more help</h3>
<p>If you encounter problems or have issues not addressed in this documentation,
please let us know via the <a href="https://framagit.org/hubzilla/core/issues">Github issue
tracker</a>. Please be as clear as you
can about your operating environment and provide as much detail as possible
about any error messages you may see, so that we can prevent it from happening
in the future. Due to the large variety of operating systems and PHP platforms
in existence we may have only limited ability to debug your PHP installation or
acquire any missing modules, but we will do our best to solve any general code
issues.</p>
<h3 id="before-you-begin">Before you begin</h3>
<h4 id="choose-a-domain-name-or-subdomain-name-for-your-server">Choose a domain name or subdomain name for your server</h4>
<p>$Projectname can only be installed into the root of a domain or sub-domain, and can
not be installed using alternate TCP ports.</p>
<h4 id="decide-if-you-will-use-ssl-and-obtain-an-ssl-certificate-before-software-installation">Decide if you will use SSL and obtain an SSL certificate before software installation</h4>
<p>You SHOULD use SSL. If you use SSL, you MUST use a "browser-valid" certificate.
<em>You MUST NOT use self-signed certificates!</em></p>
<p>Please test your certificate prior to installation. A web tool for testing your
certificate is available at "http://www.digicert.com/help/". When visiting your
site for the first time, please use the SSL ("https://") URL if SSL is available.
This will avoid problems later. The installation routine will not allow you to
use a non browser-valid certificate.</p>
<p>This restriction is incorporated because public posts from you may contain
references to images on your own hub. Other members viewing their stream on
other hubs will get warnings if your certificate is not trusted by their web
browser. This will confuse many people because this is a decentralised network
and they will get the warning about your hub while viewing their own hub and may
think their own hub has an issue. These warnings are very technical and scary to
some folks, many of whom will not know how to proceed except to follow the browser
advice. This is disruptive to the community. That said, we recognise the issues
surrounding the current certificate infrastructure and agree there are many
problems, but that doesn't change the requirement.</p>
<p>Free "browser-valid" certificates are available from providers such as StartSSL
and LetsEncrypt.</p>
<p>If you do NOT use SSL, there may be a delay of up to a minute for the initial
install script - while we check the SSL port to see if anything responds there.
When communicating with new sites, $Projectname always attempts connection on the
SSL port first, before falling back to a less secure connection.  If you do not
use SSL, your webserver MUST NOT listen on port 443 at all.</p>
<p>If you use LetsEncrypt to provide certificates and create a file under
.well-known/acme-challenge so that LetsEncrypt can verify your domain ownership,
please remove or rename the .well-known directory as soon as the certificate is
generated. $Projectname will provide its own handler for ".well-known" services when
it is installed, and an existing directory in this location may prevent some of
these services from working correctly. This should not be a problem with Apache,
but may be an issue with nginx or other web server platforms.</p>
<h3 id="deployment">Deployment</h3>
<p>There are several ways to deploy a new hub.</p>
<ul>
<li>Manual installation on an existing server</li>
<li>Automated installation on an existing server using a shell script</li>
<li>Automated deployment using an OpenShift virtual private server (VPS)</li>
</ul>
<h3 id="requirements">Requirements</h3>
<ul>
<li>
<p>Apache with mod-rewrite enabled and "AllowOverride All" so you can use a
  local .htaccess file. Some folks have successfully used nginx and lighttpd.
  Example config scripts are available for these platforms in doc/install.
  Apache and nginx have the most support.</p>
</li>
<li>
<p>PHP 8.1 or later.
  Note that on some shared hosting environments, the <em>command line</em>
  version of PHP might differ from the <em>webserver</em> version</p>
</li>
<li>
<p>PHP <em>command line</em> access with register_argc_argv set to true in the
  php.ini file, and with no hosting provider restrictions on the use of
  exec() and proc_open().</p>
</li>
<li>
<p>curl, gd (with at least jpeg and png support), pdo-mysql (or pdo-postgres), mbstring, zip,
  and openssl extensions. The imagick extension is not required, but recommended.</p>
</li>
<li>
<p>xml extension is required if you want webdav to work.</p>
</li>
<li>
<p>some form of email server or email gateway such that PHP mail() works.</p>
</li>
<li>
<p>A supported database server. The supported databases are:</p>
</li>
<li>Mysql version 8.0.22 or later</li>
<li>MariaDB version 10.4 or later</li>
<li>
<p>PostgreSQL version 12 or later</p>
</li>
<li>
<p>ability to schedule jobs with cron.</p>
</li>
<li>
<p>Installation into a top-level domain or sub-domain (without a
  directory/path component in the URL) is REQUIRED.</p>
</li>
</ul>
<h3 id="manual-installation">Manual Installation</h3>
<h4 id="unpack-the-projectname-files-into-the-root-of-your-web-server-document-area">Unpack the $Projectname files into the root of your web server document area</h4>
<p>If you copy the directory tree to your webserver, make sure that you include the
hidden files like .htaccess.</p>
<p>If you are able to do so, we recommend using git to clone the source
repository rather than to use a packaged tar or zip file.  This makes the
software much easier to update. The Linux command to clone the repository
into a directory "mywebsite" would be:</p>
<div class="language-text highlight"><pre><span></span><code>git clone https://framagit.org/hubzilla/core.git mywebsite
</code></pre></div>
<p>and then you can pick up the latest changes at any time with:</p>
<div class="language-text highlight"><pre><span></span><code>git pull
</code></pre></div>
<p>make sure folders <code>store/[data]/smarty3</code> and <code>store</code> exist and are
writable by the webserver:</p>
<div class="language-text highlight"><pre><span></span><code>mkdir -p &quot;store/[data]/smarty3&quot;
chmod -R 777 store

This permission (777) is very dangerous and if you have sufficient
privilege and knowledge you should make these directories writeable
only by the webserver and, if different, the user that will run the
cron job (see below). In many shared hosting environments this may be
difficult without opening a trouble ticket with your provider. The
above permissions will allow the software to work, but are not
optimal.
</code></pre></div>
<p>The following directories also need to be writable by the webserver in order for certain
web-based administrative tools to function:</p>
<ul>
<li><code>addon</code></li>
<li><code>extend</code></li>
<li><code>view/theme</code></li>
<li><code>widget</code></li>
</ul>
<h4 id="official-addons">Official addons</h4>
<h5 id="installation">Installation</h5>
<p>Navigate to your website. Then you should clone the addon repository (separately). We'll give this repository a nickname of 'hzaddons'. You can pull in other hubzilla addon repositories by giving them different nicknames:</p>
<div class="language-text highlight"><pre><span></span><code>cd mywebsite
util/add_addon_repo https://framagit.org/hubzilla/addons.git hzaddons
</code></pre></div>
<h5 id="updating">Updating</h5>
<p>For keeping the addon tree updated, you should be on your top level website directory and issue an update command for that repository::</p>
<div class="language-text highlight"><pre><span></span><code>cd mywebsite
util/update_addon_repo hzaddons
</code></pre></div>
<p>Create searchable representations of the online documentation. You may do this
any time that the documentation is updated :</p>
<div class="language-text highlight"><pre><span></span><code>cd mywebsite
util/importdoc
</code></pre></div>
<h3 id="automated-installation-via-the-homeinstall-shell-script">Automated installation via the .homeinstall shell script</h3>
<p>There is a shell script in (<code>.homeinstall/hubzilla-setup.sh</code>) that will install $Projectname and its dependencies on a fresh installation of Debian 9 stable (Stetch). It should work on similar Linux systems but your results may vary.</p>
<h4 id="requirements_1">Requirements</h4>
<p>The installation script was originally designed for a small hardware server behind your home router. However, it has been tested on several systems running Debian 9:</p>
<ul>
<li>
<p>Home-PC (Debian-9.2-amd64) and Rapberry-Pi 3 (Rasbian = Debian 9.3)</p>
</li>
<li>
<p>Internet connection and router at home</p>
</li>
<li>Mini-PC / Raspi connected to your router</li>
<li>USB drive for backups</li>
<li>Fresh installation of Debian on your mini-pc</li>
<li>Router with open ports 80 and 443 for your Debian</li>
</ul>
<h4 id="overview-of-installation-steps">Overview of installation steps</h4>
<ol>
<li><code>apt-get install git</code></li>
<li><code>mkdir -p /var/www/html</code></li>
<li><code>cd /var/www/html</code></li>
<li><code>git clone https://framagit.org/hubzilla/core.git .</code></li>
<li><code>nano .homeinstall/hubzilla-config.txt</code></li>
<li><code>cd .homeinstall/</code></li>
<li><code>./hubzilla-setup.sh</code></li>
<li><code>service apache2 reload</code></li>
<li>Open your domain with a browser and step throught the initial configuration of $Projectname.</li>
</ol>
<h3 id="recommended-addons">Recommended Addons</h3>
<p>We recommend the following addons be installed on all public sites:</p>
<div class="language-text highlight"><pre><span></span><code>nsfw - hide inappropriate posts/comments
superblock - block content from offensive channels
</code></pre></div>
<h3 id="federation-addons">Federation Addons</h3>
<p>Several web communities have begun to converge using common protocols. The protocols involved are somewhat limited in their abilities. The GNU-Social protocol for instance offers no privacy modes, and the Diaspora protocol is somewhat restrictive in what kinds of communications are allowed. All comments must be signed in a very unique manner by the original author. The ActivityPub protocol is also being considered and may be supported at a future date. No other existing protocol supports nomadic location as used by this project. This presents some support challenges as some features work with some networks and don't work with others. Nevertheless the federation protocols allow connections to be made to a much larger community of people worldwide. They are provided as addons.</p>
<ul>
<li>
<p>diaspora - The Diaspora Protocol used by Diaspora and Friendica. You should enable 'Diaspora Statistics' (statistics) first to enable all the available features.</p>
</li>
<li>
<p>gnusoc - The GNU-Social Protocol, used by GNU-Social, Mastodon and several other communities. This addon requires you first install the 'pubsubhubbub' service (also an addon).</p>
</li>
</ul>
<p>Each member of your site must choose whether or not to allow these protocols individually as they may conflict with several desirable core features and abilities of this software (such as channel migration and cloning). They do this from their 'Settings -&gt; Feature/Addon Settings' page. The administrator may also set the following:</p>
<div class="language-text highlight"><pre><span></span><code>util/config system.diaspora_allowed 1
util/config system.gnusoc_allowed 1
</code></pre></div>
<p>and enable these protocols automatically for all newly created channels.</p>
<h3 id="service-classes">Service Classes</h3>
<p>Service classes allow you to set limits on system resources by limiting what individual
accounts can do, including file storage and top-level post limits. Define custom service
classes according to your needs in the <code>.htconfig.php</code> file. For example, create
a <em>standard</em> and <em>premium</em> class using the following lines:</p>
<div class="language-text highlight"><pre><span></span><code>// Service classes

App::$config[&#39;system&#39;][&#39;default_service_class&#39;]=&#39;standard&#39;; // this is the default service class that is attached to every new account

// configuration for standard service class
App::$config[&#39;service_class&#39;][&#39;standard&#39;] =
array(&#39;photo_upload_limit&#39;=&gt;2097152, // total photo storage limit per channel (here 2MB)
&#39;total_identities&#39; =&gt;1, // number of channels an account can create
&#39;total_items&#39; =&gt;0, // number of top level posts a channel can create. Applies only to top level posts of the channel user, other posts and comments are unaffected
&#39;total_pages&#39; =&gt;100, // number of pages a channel can create
&#39;total_channels&#39; =&gt;100, // number of channels the user can add, other users can still add this channel, even if the limit is reached
&#39;attach_upload_limit&#39; =&gt;2097152, // total attachment storage limit per channel (here 2MB)
&#39;chatters_inroom&#39; =&gt;20);

// configuration for premium service class
App::$config[&#39;service_class&#39;][&#39;premium&#39;] =
array(&#39;photo_upload_limit&#39;=&gt;20000000000, // total photo storage limit per channel (here 20GB)
&#39;total_identities&#39; =&gt;20, // number of channels an account can create
&#39;total_items&#39; =&gt;20000, // number of top level posts a channel can create. Applies only to top level posts of the channel user, other posts and comments are unaffected
&#39;total_pages&#39; =&gt;400, // number of pages a channel can create
&#39;total_channels&#39; =&gt;2000, // number of channels the user can add, other users can still add this channel, even if the limit is reached
&#39;attach_upload_limit&#39; =&gt;20000000000, // total attachment storage limit per channel (here 20GB)
&#39;chatters_inroom&#39; =&gt;100);
</code></pre></div>
<p>To apply a service class to an existing account, use the command line utility from the
web root:</p>
<p><code>util/service_class</code>
list service classes</p>
<p><code>util/config system default_service_class firstclass</code>
set the default service class to 'firstclass'</p>
<p><code>util/service_class firstclass</code>
list the services that are part of 'firstclass' service class</p>
<p><code>util/service_class firstclass photo_upload_limit 10000000</code>
set firstclass total photo disk usage to 10 million bytes</p>
<p><code>util/service_class --account=5 firstclass</code>
set account id 5 to service class 'firstclass' (with confirmation)</p>
<p><code>util/service_class --channel=blogchan firstclass</code>
set the account that owns channel 'blogchan' to service class 'firstclass' (with confirmation)</p>
<p><strong>Service class limit options</strong></p>
<ul>
<li>photo_upload_limit - maximum total bytes for photos</li>
<li>total_items - maximum total toplevel posts</li>
<li>total_pages - maximum comanche pages</li>
<li>total_identities - maximum number of channels owned by account</li>
<li>total_channels - maximum number of connections</li>
<li>total_feeds - maximum number of rss feed connections</li>
<li>attach_upload_limit - maximum file upload storage (bytes)</li>
<li>minimum_feedcheck_minutes - lowest setting allowed for polling rss feeds</li>
<li>chatrooms - maximum chatrooms</li>
<li>chatters_inroom - maximum chatters per room</li>
<li>access_tokens - maximum number of Guest Access Tokens per channel</li>
</ul>
<h3 id="theme-management">Theme management</h3>
<h4 id="repo-management-example">Repo management example</h4>
<ol>
<li>Navigate to your hub web root</li>
</ol>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>root@hub:/root# cd /var/www
</span></code></pre></div>
2. Add the theme repo and give it a name</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>root@hub:/var/www# util/add_theme_repo https://github.com/DeadSuperHero/redmatrix-themes.git DeadSuperHero
</span></code></pre></div>
3. Update the repo by using</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>root@hub:/var/www#  util/update_theme_repo DeadSuperHero
</span></code></pre></div>
<h3 id="channel-directory">Channel Directory</h3>
<h4 id="keywords">Keywords</h4>
<p>There is a "tag cloud" of keywords that can appear on the channel directory page.
If you wish to hide these keywords, which are drawn from the directory server, you
can use the <em>config</em> tool:</p>
<div class="language-text highlight"><pre><span></span><code>util/config system disable_directory_keywords 1
</code></pre></div>
<p>If your hub is in the standalone mode because you do not wish to connect to the
global grid, you may instead ensure the the <em>directory_server</em> system option is
empty:</p>
<div class="language-text highlight"><pre><span></span><code>util/config system directory_server &quot;&quot;
</code></pre></div>
<h3 id="administration">Administration</h3>
<h4 id="site-administration">Site Administration</h4>
<p>Administration of the website is commonly done through the admin webpage located at /admin on your website. In order to access this page you must have administration rights to the server. Administration rights are granted to the first account to register on your site, <strong>provided</strong> the email address of that account exactly matches the email address you provided as the administrator's email address during setup.</p>
<p>There are several ways that this can fail and leave the system without an administrator account, for instance if the first account that was created provided a different email address than the administrator email address that was supplied during setup.</p>
<p>For security reasons there is no web page or interface on the system which will give you administrator access. If you need to correct a situation where a system has no administrator account it <strong>must</strong> be done by editing the account table in the database. There is no other way. To do this, you will need to locate the entry in the account table which belongs to the desired administrator, and set 'account_roles' for that entry to 4096. You will then be able to access the admin page from your system's profile menu or directly via /admin .</p>
<p>A hub can have multiple admins and there is no limit to how administrators you can have. Repeat the above process for every account you wish to provide with administration rights.</p>
<h3 id="troubleshooting">Troubleshooting</h3>
<h4 id="log-files">Log files</h4>
<p>The system logfile is an extremely useful resource for tracking down
things that go wrong. This can be enabled in the admin/log
configuration page. A loglevel setting of <code>LOGGER_DEBUG</code> is preferred
for stable production sites. Most things that go wrong with
communications or storage are listed here. A setting of LOGGER_DATA
provides <em>much</em> more detail, but may fill your disk. In either
case we recommend the use of logrotate on your operating system to
cycle logs and discard older entries.</p>
<p>At the bottom of your .htconfig.php file are several lines (commented
out) which enable PHP error logging. This reports issues with code
syntax and executing the code and is the first place you should look
for issues which result in a "white screen" or blank page. This is
typically the result of code/syntax problems.  Database errors are
reported to the system logfile, but we've found it useful to have a
file in your top-level directory called dbfail.out which <em>only</em>
collects database related issues. If the file exists and is writable,
database errors will be logged to it as well as to the system logfile.</p>
<p>In the case of "500" errors, the issues may often be logged in your
webserver logs, often /var/log/apache2/error.log or something
similar. Consult your operating system documentation.</p>
<p>There are three different log facilities.</p>
<p><strong>The first is the database failure log</strong>. This is only used if you
  create a file called specifically <code>dbfail.out</code> in the root folder of
  your website and make it write-able by the web server. If we have
  any database failed queries, they are all reported here. They
  generally indicate typos in our queries, but also occur if the
  database server disconnects or tables get corrupted. On rare
  occasions we'll see race conditions in here where two processes
  tried to create an xchan or cache entry with the same ID. Any other
  errors (especially persistent errors) should be investigated.</p>
<p><strong>The second is the PHP error log</strong>. This is created by the language
  processor and only reports issues in the language environment. Again
  these can be syntax errors or programming errors, but these
  generally are fatal and result in a "white screen of death";
  e.g. PHP terminates. You should probably look at this file if
  something goes wrong that doesn't result in a white screen of death,
  but it isn't uncommon for this file to be empty for days on end.</p>
<p>There are some lines at the bottom of the supplied <code>.htconfig.php</code>
  file; which if uncommented will enable a PHP error log (<em>extremely</em>
  useful for finding the source of white screen failures). This isn't
  done by default due to potential issues with logfile ownership and
  write permissions and the fact that there is no logfile rotation by
  default.</p>
<p><strong>The third is the "application log"</strong>. This is used by $Projectname
  to report what is going on in the program and usually reports any
  difficulties or unexpected data we received. It also occasionally
  reports "heartbeat" status messages to indicate that we reached a
  certain point in a script. <strong>This</strong> is the most important log file
  to us, as we create it ourself for the sole purpose of reporting the
  status of background tasks and anything that seems weird or out of
  place. It may not be fatal, but maybe just unexpected. If you're
  performing a task and there's a problem, let us know what is in this
  file when the problem occurred. (Please don't send me 100M dumps
  you'll only piss me off). Just a few relevant lines so I can rule
  out a few hundred thousand lines of code and concentrate on where
  the problem starts showing up.</p>
<p>These are your site logs, not mine. We report serious issues at any
log level. I highly recommend <code>DEBUG</code> log level for most sites - which
provides a bit of additional info and doesn't create huge
logfiles. When there's a problem which defies all attempts to track,
you might wish to use <code>DATA</code> log level for a short period of time to
capture all the detail of what structures we were dealing with at the
time. This log level will use a lot of space so is recommended only
for brief periods or for developer test sites.</p>
<p>I recommend configuring logrotate for both the php log and the
application log. I usually have a look at dbfail.out every week or
two, fix any issues reported and then starting over with a fresh
file. Likewise with the PHP logfile. I refer to it once in a while to
see if there's something that needs fixing.</p>
<p>If something goes wrong, and it's not a fatal error, I look at the
application logfile. Often I will</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>tail -f logfile.out
</span></code></pre></div>
<p>While repeating an operation that has problems. Often I'll insert
extra logging statements in the code if there isn't any hint what's
going wrong. Even something as simple as "got here" or printing out
the value of a variable that might be suspect. You can do this too -
in fact I encourage you to do so. Once you've found what you need to
find, you can</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>git checkout file.php
</span></code></pre></div>
<p>To immediately clear out all the extra logging stuff you added.  Use
the information from this log and any detail you can provide from your
investigation of the problem to file your bug report - unless your
analysis points to the source of the problem. In that case, just fix
it.</p>
<h5 id="rotating-log-files">Rotating log files</h5>
<ol>
<li>Enable the <strong>logrot</strong> addon in the official <a href="https://framagit.org/hubzilla/addons">hubzilla-addons</a> repo</li>
<li>Create a directory in your web root called <code>log</code> with webserver write permissions</li>
<li>Go to the <strong>logrot</strong> admin settings and enter this folder name as well as the max size and number of retained log files.</li>
</ol>
<h4 id="reporting-issues">Reporting issues</h4>
<p>When reporting issues, please try to provide as much detail as may be
necessary for developers to reproduce the issue and provide the
complete text of all error messages.</p>
<p>We encourage you to try to the best of your abilities to use these
logs combined with the source code in your possession to troubleshoot
issues and find their cause. The community is often able to help, but
only you have access to your site logfiles and it is considered a
security risk to share them.</p>
<p>If a code issue has been uncovered, please report it on the project
bugtracker (https://framagit.org/hubzilla/core/issues). Again provide
as much detail as possible to avoid us going back and forth asking
questions about your configuration or how to duplicate the problem, so
that we can get right to the problem and figure out what to do about
it. You are also welcome to offer your own solutions and submit
patches. In fact we encourage this as we are all volunteers and have
little spare time available. The more people that help, the easier the
workload for everybody. It's OK if your solution isn't perfect. Every
little bit helps and perhaps we can improve on it.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>
        <script src="../js/version-select.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
