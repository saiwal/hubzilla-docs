<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Red development - a guide to the schema system - Hubzilla Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../css/version-select.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Hubzilla Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../start/" class="nav-link">Getting started</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../member/" class="nav-link">Member Guide</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../admin/" class="nav-link">Admin Gudie</a>
                            </li>
                            <li class="nav-item">
                                <a href="../*" class="nav-link">Developers Guide</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../api/" class="nav-link">API</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/saiwal/hubzilla-docs/edit/master/docs/dev/schema.md" class="nav-link">Edit on saiwal/hubzilla-docs
                                    </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#red-development-a-guide-to-the-schema-system" class="nav-link">Red development - a guide to the schema system</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#include-docmacrosmain_footerbb" class="nav-link">include doc/macros/main_footer.bb;</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="red-development-a-guide-to-the-schema-system">Red development - a guide to the schema system</h1>
<p>A schema, in a nutshell, is a collection of settings for a bunch of variables to define
certain elements of a theme.  A schema is loaded as though it were part of config.php
and has access to all the same information.  Importantly, this means it is identity aware,
and can be used to do some interesting things.  One could, for example, restrict options
by service class, or present different options to different members.</p>
<p>By default, we filter only by whether or not expert mode is enabled.  If expert mode is
enabled, all options are presented to the member.  If it is not, only scheme, background
image, font face, and iconset are available as choices.</p>
<p>A schema is loaded <em>after</em> the member's personal settings.  Therefore, to allow a member
to overwrite a particular aspect of a schema you would use the following syntax:</p>
<div class="language-text highlight"><pre><span></span><code>    if (! $foo)
        $foo = &#39;bar&#39;;
</code></pre></div>
<p>However, there are circumstances - particularly with positional elements - where it
may be desirable (or necessary) to override a member's settings.  In this case, the syntax
is even simpler:</p>
<div class="language-text highlight"><pre><span></span><code>        $foo = &#39;bar&#39;;
</code></pre></div>
<p>Members will not thank you for this, however, so only use it when it is required.</p>
<p>If no personal options are set, and no schema is selected, we will first try to load a schema
with the file name "default.php".  This file should never be included with a theme.  If it
is, merge conflicts will occur as people update their code.  Rather, this should be defined
by administrators on a site by site basis.
default.php and default.css MUST be symlinks to existing scheme files.</p>
<p>You schema does not need to - and should not - contain all of these values.  Only the values
that differ from the defaults should be listed.  This gives you some very powerful options
with very few lines of code.</p>
<p>Note the options available differ with each theme.  The options available with the Redbasic 
theme are as follows:</p>
<ul>
<li>nav_colour
    The colour of the navigation bar.  Options are red, black and silver.  Alternatively, 
    one can set $nav_bg_1, $nav_bg_2, $nav_bg_3 and $nav_bg_4 to provide gradient and
    hover effects.</li>
<li>banner_colour
    The font colour of the banner element.  Accepts an RGB or Hex value.</li>
<li>bgcolour
    Set the body background colour.  Accepts an RGB or Hex value.</li>
<li>background_image
    Sets a background image.  Accepts a URL or path.</li>
<li>item_colour
    Set the background colour of items.  Accepts an RGB or Hex value.</li>
<li>item_opacity
    Set the opacity of items.  Accepts a value from 0.01 to 1</li>
<li>toolicon_colour
    Set the colour of tool icons.  Accepts an RGB or Hex value.</li>
<li>toolicon_activecolour
    Set the colour of active or hovered icon tools.</li>
<li>font_size
    Set the size of fonts in items and posts.  Accepts px or em.</li>
<li>body_font_size
    Sets the size of fonts at the body level.  Accepts px or em.</li>
<li>font_colour
    Sets the font colour.  Accepts an RGB or Hex value.</li>
<li>radius
    Set the radius of corners.  Accepts a numeral, and is always in px.</li>
<li>shadow
    Set the size of shadows shown with inline images.  Accepts a numerical 
    value.  Note shadows are not applied to smileys.</li>
<li>converse_width
    Set the maximum width of the content region in px.</li>
<li>nav_min_opacity</li>
<li>top_photo</li>
<li>reply_photo</li>
</ul>
<p>If a your_schema_name.css file is found, the content of this file will be attached to the end of style.css.
This gives the schem developer the possiblity to override any style component.</p>
<h1 id="include-docmacrosmain_footerbb">include doc/macros/main_footer.bb;</h1></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>
        <script src="../../js/version-select.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
